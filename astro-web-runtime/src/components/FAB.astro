---
interface Props {
  icon?: string;
  position?: 'bottom-right' | 'bottom-center';
  size?: 'small' | 'regular' | 'large';
  href?: string;
  extended?: boolean;
  label?: string;
}

const { 
  icon = 'add', 
  position = 'bottom-right', 
  size = 'regular',
  href,
  extended = false,
  label = ''
} = Astro.props;

const positionClasses = {
  'bottom-right': 'fixed bottom-6 right-6',
  'bottom-center': 'fixed bottom-6 left-1/2 -translate-x-1/2',
};

const sizeClasses = {
  small: 'w-10 h-10',
  regular: 'w-14 h-14',
  large: 'w-24 h-24',
};

const iconSizes = {
  small: 'w-5 h-5',
  regular: 'w-6 h-6',
  large: 'w-9 h-9',
};

const Tag = href ? 'a' : 'button';
---

<Tag
  href={href}
  class:list={[
    'flex items-center justify-center gap-3 bg-primary-container dark:bg-primary-dark-container text-primary-on-container dark:text-primary-dark-on-container shadow-elevation-3 hover:shadow-elevation-4 transition-all ripple z-50',
    positionClasses[position],
    extended ? 'px-6 h-14 rounded-2xl' : ['rounded-2xl', sizeClasses[size]],
  ]}
>
  <svg class={iconSizes[size]} viewBox="0 0 24 24" fill="currentColor">
    {icon === 'add' && <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>}
    {icon === 'edit' && <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>}
    {icon === 'refresh' && <path d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>}
  </svg>
  {extended && label && <span class="label-large">{label}</span>}
</Tag>
